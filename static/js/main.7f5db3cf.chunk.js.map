{"version":3,"sources":["logo.svg","TestTable.js","TableSortScript.js","index.js"],"names":["module","exports","App","React","useEffect","script","document","createElement","type","src","async","body","appendChild","className","id","TableSortScript","Fragment","style","wordWrap","whiteSpace","ReactDOM","render","exact","path","component","DisplayTableSort","TestTable","getElementById"],"mappings":"kJAAAA,EAAOC,QAAU,IAA0B,kC,6GC8H5BC,MAvHf,WAYE,OATFC,IAAMC,WAAU,WACd,IAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,KAAO,kBACdH,EAAOI,IAAM,qDACbJ,EAAOK,OAAQ,EACfJ,SAASK,KAAKC,YAAYP,KACvB,IAID,yBAAKQ,UAAU,OACb,4BAAQA,UAAU,eAElB,2BAAOC,GAAG,UAAUD,UAAU,cAC5B,+BACE,4BACE,yCACA,0CACA,qCACA,wBAAIA,UAAU,iBAAd,OACA,0CAGJ,+BACE,4BACE,qCACA,oCACA,gDACA,oCACA,sDAEF,4BACE,oCACA,qCACA,+CACA,mCACA,qDAEF,4BACE,mCACA,qCACA,gDACA,8CACA,oDAEF,4BACE,sCACA,mCACA,qDACA,8CACA,yDAEF,4BACE,sCACA,iCACA,qCACA,8CACA,oDAON,2BAAOC,GAAG,UAAUD,UAAU,cAC5B,+BACE,4BACE,yCACA,0CACA,qCACA,wBAAIA,UAAW,iBAAf,OACA,0CAGJ,+BACE,4BACE,iCACA,oCACA,gDACA,0CACA,sDAEF,4BACE,oCACA,6BACA,+CACA,6BACA,qDAEF,4BACE,mCACA,qCACA,gDACA,0CACA,oDAEF,4BACE,iCACA,mCACA,qDACA,iCACA,yDAEF,4BACE,sCACA,iCACA,qCACA,0CACA,sDCfGE,MArGf,WACI,OAAS,kBAAC,IAAMC,SAAP,KAAgB,yBAAKC,MAAO,CAACC,SAAU,aAAcC,WAAY,aAAjD,+8H,eCI7BC,IAASC,OAET,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,OAAOC,UAAWC,GACpC,kBAAC,EAAD,OAGA,kBAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,IAAIC,UAAWE,GACjC,kBAACA,EAAD,QAGEpB,SAASqB,eAAe,c","file":"static/js/main.7f5db3cf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\n\r\n// works:\r\n// import './table-sort'\r\n\r\nfunction App() {\r\n\r\n// gets CORS blocked\r\nReact.useEffect(() => {\r\n  const script = document.createElement(\"script\");\r\n  script.type = 'javascript/html';\r\n  script.src = \"https://leewannacott.github.io/table-sort-js/#/.js\";\r\n  script.async = true;\r\n  document.body.appendChild(script); \r\n  }, []);\r\n  \r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n      </header>\r\n      <table id=\"myTable\" className=\"table-sort\">\r\n        <thead>\r\n          <tr>\r\n            <th>Last Name</th>\r\n            <th>First Name</th>\r\n            <th>Email</th>\r\n            <th className='order-by-desc'>Due</th>\r\n            <th>Web Site</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>Smith</td>\r\n            <td>John</td>\r\n            <td>jsmith@gmail.com</td>\r\n            <td>2234</td>\r\n            <td>http://www.jsmith.com</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Bach</td>\r\n            <td>Frank</td>\r\n            <td>fbach@yahoo.com</td>\r\n            <td>1.6</td>\r\n            <td>http://www.frank.com</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Doe</td>\r\n            <td>Jason</td>\r\n            <td>jdoe@hotmail.com</td>\r\n            <td>1,234,567,8,89</td>\r\n            <td>http://www.jdoe.com</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Conway</td>\r\n            <td>Tim</td>\r\n            <td>tconway@earthlink.net</td>\r\n            <td>1.234.567.8,90</td>\r\n            <td>http://www.timconway.com</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Conway</td>\r\n            <td>T</td>\r\n            <td>t.net</td>\r\n            <td>1,234,567,8,91</td>\r\n            <td>http://www.ti.com</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      \r\n\r\n      <table id=\"myTable\" className=\"table-sort\">\r\n        <thead>\r\n          <tr>\r\n            <th>Last Name</th>\r\n            <th>First Name</th>\r\n            <th>Email</th>\r\n            <th className ='order-by-desc'>Due</th>\r\n            <th>Web Site</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>2</td>\r\n            <td>John</td>\r\n            <td>jsmith@gmail.com</td>\r\n            <td>2020-11-28</td>\r\n            <td>http://www.jsmith.com</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Bach</td>\r\n            <td></td>\r\n            <td>fbach@yahoo.com</td>\r\n            <td></td>\r\n            <td>http://www.frank.com</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Doe</td>\r\n            <td>Jason</td>\r\n            <td>jdoe@hotmail.com</td>\r\n            <td>2020-11-25</td>\r\n            <td>http://www.jdoe.com</td>\r\n          </tr>\r\n          <tr>\r\n            <td>t</td>\r\n            <td>Tim</td>\r\n            <td>tconway@earthlink.net</td>\r\n            <td>1</td>\r\n            <td>http://www.timconway.com</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Conway</td>\r\n            <td>T</td>\r\n            <td>t.net</td>\r\n            <td>2020-11-13</td>\r\n            <td>http://www.ti.com</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React, { Fragment } from 'react';\r\n\r\nfunction TableSortScript() {\r\n    return ( <React.Fragment><pre style={{wordWrap: \"break-word\", whiteSpace: \"pre-wrap\"}}>\r\n        \r\n{`\r\n/* \r\ntable-sort-js\r\nLee Wannacott 2020\r\n*/\r\n\r\nfunction tableSortJs(){\r\n    console.log('hello world')\r\n    const columnData = [];\r\n    const dictOfColumnIndexAndTableRow = {\r\n    }\r\n    \r\n    document.addEventListener(\"DOMContentLoaded\", function (e) {\r\n        console.log('dom loaded')\r\n    for (let sortableTable of document.getElementsByTagName('table')) {\r\n        if (sortableTable.className === 'table-sort') {\r\n            console.log('table-sort')\r\n        if (!sortableTable.getElementsByTagName('thead')) {\r\n            console.log('<thead> Tag does not exist in table');\r\n        }\r\n        else if (!sortableTable.getElementsByTagName('tbody')) {\r\n            console.log('<tbody> Tag does not exist in table');\r\n        }\r\n        else {\r\n            const tableHead = sortableTable.querySelector('thead')\r\n            const tableBody = sortableTable.querySelector('tbody')\r\n            const tableHeadHeaders = tableHead.querySelectorAll('th')\r\n            \r\n            for (let [columnIndex, th] of tableHeadHeaders.entries('table')) {\r\n                console.log('th')\r\n            let timesClickedColumn = 0\r\n            th.addEventListener(\"click\", function () {\r\n                timesClickedColumn += 1\r\n                console.log('clicked')\r\n                function getTableDataOnClick() {\r\n                const tableRows = tableBody.querySelectorAll('tr');\r\n                for (let [i, tr] of tableRows.entries()) {\r\n                    if (tr.querySelectorAll('td').item(columnIndex).innerHTML !== ''){\r\n                    columnData.push(tr.querySelectorAll('td').item(columnIndex).innerHTML+'#'+i)\r\n                    dictOfColumnIndexAndTableRow[tr.querySelectorAll('td').item(columnIndex).innerHTML+'#'+i] = tr.innerHTML\r\n                    } else{\r\n                    // Fill in blank table cells with a value(0), so they can be sorted.\r\n                    columnData.push('0#'+i)\r\n                    dictOfColumnIndexAndTableRow['0#'+i] = tr.innerHTML\r\n                    }\r\n                }\r\n    \r\n                function naturalSortAescending(a,b){\r\n                    return a.localeCompare(b, navigator.languages[0] || navigator.language,\r\n                        {numeric: true, ignorePunctuation: true})\r\n                }\r\n                function naturalSortDescending(a,b){\r\n                    return naturalSortAescending(b,a)\r\n                }\r\n                // Sort naturally; default aescending unless th is using 'order-by-desc' as className.\r\n                console.log(columnData[0])\r\n                //[^A-Za-z0-9s]\r\n    \r\n                if (columnData[0].search(/[^A-Za-z0-9s]/)) {\r\n                    console.log('test1')\r\n                    if (th.className === 'order-by-desc' && timesClickedColumn === 1){\r\n                    columnData.sort(naturalSortDescending,{numeric: true, ignorePunctuation: true})\r\n                    }else if(th.className === 'order-by-desc' && timesClickedColumn === 2){\r\n                    columnData.sort(naturalSortAescending,{numeric: true, ignorePunctuation: true})\r\n                        timesClickedColumn = 0\r\n                    }\r\n                else if (timesClickedColumn === 1){   \r\n                    columnData.sort(naturalSortAescending)         \r\n                } else if (timesClickedColumn === 2){\r\n                    \r\n                    columnData.sort(naturalSortDescending)\r\n                    timesClickedColumn = 0\r\n                    } \r\n                }\r\n                }\r\n                getTableDataOnClick();\r\n                function sortingFunction() {\r\n                const tableRows = tableBody.querySelectorAll('tr');\r\n                for (let [i, tr] of tableRows.entries()) {\r\n               \r\n                    tr.innerHTML = dictOfColumnIndexAndTableRow[columnData[i]]\r\n                }\r\n                columnData.length = 0\r\n                }\r\n                sortingFunction()\r\n            });\r\n            }\r\n        }\r\n        }\r\n    }\r\n    })}\r\n    \r\n    tableSortJs()\r\n`}\r\n    </pre></React.Fragment>\r\n    );\r\n}\r\n\r\nexport default TableSortScript","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import App from './table-sort';\nimport TestTable from './TestTable'\nimport DisplayTableSort from './TableSortScript';\nimport { HashRouter, BrowserRouter ,Route } from \"react-router-dom\";\n\nReactDOM.render(\n\n<HashRouter>\n<Route exact path=\"/.js\" component={DisplayTableSort}>\n<DisplayTableSort/>\n</Route>\n\n<Route exact path=\"/\" component={TestTable}>\n<TestTable/>\n</Route>\n</HashRouter>,\n  document.getElementById('display')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}